{% extends "base.html" %}
{% load static %}
{% block content %}
<div class="container mt-5">
  <div class="text-center mb-5">
    <h1 class="display-4 fw-bold text-primary">📘 Python Statements</h1>
    <p class="fs-5 text-muted">Statements control the <strong>flow</strong> and <strong>logic</strong> of Python code including conditions, loops, and more.</p>
  </div>

  <!-- Tabs -->
  <ul class="nav nav-tabs mb-4" id="statementTabs" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="examples-tab" data-bs-toggle="tab" data-bs-target="#examples" type="button" role="tab">
        🧪 Examples <span class="badge bg-secondary" id="exampleCount">0</span>
      </button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="quiz-tab" data-bs-toggle="tab" data-bs-target="#quiz" type="button" role="tab">
        🧠 Quiz <span class="badge bg-success" id="quizCountText">0</span>
      </button>
    </li>
  </ul>

  <!-- Tab Contents -->
  <div class="tab-content" id="statementTabContent">
    <!-- Examples Tab -->
    <div class="tab-pane fade show active" id="examples" role="tabpanel">
      <div class="row gy-4" id="exampleCards">
        <div class="col-12">
          <div class="card shadow-sm">
            <div class="card-header bg-primary text-white fw-bold">1️⃣ If-Else Condition</div>
            

  <div class="mt-5"></div><div class="card-body">
              <pre><code class="language-python">x = 10
if x > 5:
    print("Greater than 5")
else:
    print("5 or less")</code></pre>
              <ul class="list-unstyled">
                <li>🔹 <strong>Function Used:</strong> if-else</li>
                <li>📘 <strong>Learned:</strong> Conditional branching</li>
                <li>♻️ <strong>Reusability:</strong> Input validation, business logic</li>
                <li>💬 <strong>Comments:</strong> Fundamental control structure</li>
              </ul></div>
          </div>
        </div>

        <div class="col-12">
          <div class="card shadow-sm">
            <div class="card-header bg-success text-white fw-bold">2️⃣ For Loop</div>
            <div class="card-body">
              <pre><code class="language-python">for i in range(3):
    print(i)</code></pre>
              <ul class="list-unstyled">
                <li>🔹 <strong>Function Used:</strong> for loop with range()</li>
                <li>📘 <strong>Learned:</strong> Iteration over sequences</li>
                <li>♻️ <strong>Reusability:</strong> Repeated tasks, automation</li>
                <li>💬 <strong>Comments:</strong> Common pattern for loops</li>
              </ul>
            </div>
          </div>
        </div>

        <div class="col-12">
          <div class="card shadow-sm">
            <div class="card-header bg-warning text-dark fw-bold">3️⃣ While Loop</div>
            <div class="card-body">
              <pre><code class="language-python">count = 0
while count < 3:
    print("Counting:", count)
    count += 1</code></pre>
              <ul class="list-unstyled">
                <li>🔹 <strong>Function Used:</strong> while loop</li>
                <li>📘 <strong>Learned:</strong> Loop based on condition</li>
                <li>♻️ <strong>Reusability:</strong> Polling, retry logic</li>
                <li>💬 <strong>Comments:</strong> Useful for unknown loop counts</li>
              </ul>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- Quiz Tab -->
    <div class="tab-pane fade" id="quiz" role="tabpanel">
      <div id="quizBox" class="mt-4">Loading quiz...</div>
      <div id="quizSummary" class="mt-4"></div>
    </div>
  </div>
</div>
  {% include 'includes/comment_form.html' %}

<audio id="correctSound" src="{% static 'sounds/correct.mp3' %}" preload="auto"></audio>
<audio id="wrongSound" src="{% static 'sounds/wrong.mp3' %}" preload="auto"></audio>
<script src="{% static 'js/quiz_engine.js' %}"></script>
{% endblock %}

{% block extra_js %}
<script>
  loadQuizData("python_statements");
  document.addEventListener("DOMContentLoaded", () => {
    const exampleCards = document.querySelectorAll("#exampleCards .col-12").length;
    const exampleCountEl = document.getElementById("exampleCount");
    if (exampleCountEl) exampleCountEl.textContent = exampleCards;
  });
</script>
{% endblock %}