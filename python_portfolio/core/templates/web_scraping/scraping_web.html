{% extends "base.html" %}
{% load static %}
{% block content %}
<div class="container-fluid px-4">
  <div class="text-center mb-5">
    <h1 class="display-4 fw-bold text-primary">🌐 Web Scraping with Python</h1>
    <p class="fs-5 text-muted"><strong>Learn how to extract data from websites using Python libraries like requests and BeautifulSoup.</strong></p>
  </div>

  <ul class="nav nav-tabs mb-4" id="tabContent">
    <li class="nav-item">
      <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#examples">Examples <span class="badge bg-secondary" id="exampleCount">0</span></button>
    </li>
    <li class="nav-item">
      <button class="nav-link" data-bs-toggle="tab" data-bs-target="#quiz">Quiz <span class="badge bg-secondary" id="quizCountText">10</span></button>
    </li>
  </ul>

  <div class="tab-content">
    <div class="tab-pane fade show active" id="examples">
      <div id="exampleCards">
        <div class="card mb-4">
          <div class="card-header bg-primary text-white fw-bold">1️⃣ Example 1: Import Requests</div>
          

  <div class="mt-5"></div><div class="card-body">
            <pre><code>import requests</code></pre>
            <ul class="list-unstyled mt-3">
              <li>🔹 <strong>Function Used:</strong> requests</li>
              <li>📘 <strong>Learned:</strong> Importing the `requests` module</li>
              <li>♻️ <strong>Reusability:</strong> Core step in most scraping tasks</li>
              <li>💬 <strong>Comments:</strong> Essential starting point for fetching web content</li>
            </ul></div>
        </div>

        <div class="card mb-4">
          <div class="card-header bg-success text-white fw-bold">2️⃣ Example 2: Fetch a Web Page</div>
          <div class="card-body">
            <pre><code>res = requests.get("http://www.example.com")</code></pre>
            <ul class="list-unstyled mt-3">
              <li>🔹 <strong>Function Used:</strong> requests.get()</li>
              <li>📘 <strong>Learned:</strong> Sending a GET request to a URL</li>
              <li>♻️ <strong>Reusability:</strong> Use this to fetch any accessible webpage</li>
              <li>💬 <strong>Comments:</strong> Wrap with error handling in real-world use</li>
            </ul>
          </div>
        </div>

        <div class="card mb-4">
          <div class="card-header bg-warning text-white fw-bold">3️⃣ Example 3: Type of Response</div>
          <div class="card-body">
            <pre><code>type(res)</code></pre>
            <ul class="list-unstyled mt-3">
              <li>🔹 <strong>Function Used:</strong> type()</li>
              <li>📘 <strong>Learned:</strong> Checking the response object type</li>
              <li>♻️ <strong>Reusability:</strong> Helpful for debugging and understanding response content</li>
              <li>💬 <strong>Comments:</strong> Confirms data structure returned</li>
            </ul>
          </div>
        </div>

        <div class="card mb-4">
          <div class="card-header bg-info text-white fw-bold">4️⃣ Example 4: Response Text</div>
          <div class="card-body">
            <pre><code>res.text</code></pre>
            <ul class="list-unstyled mt-3">
              <li>🔹 <strong>Function Used:</strong> res.text</li>
              <li>📘 <strong>Learned:</strong> Retrieve raw HTML from the response</li>
              <li>♻️ <strong>Reusability:</strong> Feed this HTML into BeautifulSoup for parsing</li>
              <li>💬 <strong>Comments:</strong> Basis for extracting tags/content</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="tab-pane fade" id="quiz">
      <div class="mt-3" id="quizBox"></div>
      <div class="mt-4" id="quizSummary"></div>
    </div>
  </div>
</div>
  {% include 'includes/comment_form.html' %}

<audio id="correctSound" src="{% static 'sounds/correct.mp3' %}" preload="auto"></audio>
<audio id="wrongSound" src="{% static 'sounds/wrong.mp3' %}" preload="auto"></audio>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/quiz_engine.js' %}"></script>
<script>
  function countExampleCards() {
    const count = document.querySelectorAll('#exampleCards .card').length;
    document.getElementById('exampleCount').innerText = count;
  }

  document.addEventListener('DOMContentLoaded', function() {
    countExampleCards();
    loadQuizData("scraping");
  });
</script>
{% endblock %}