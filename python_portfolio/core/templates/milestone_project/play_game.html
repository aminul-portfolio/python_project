{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container-fluid px-4">
  <div class="text-center mb-5">
    <h1 class="display-4 fw-bold text-primary">üéÆ Tic Tac Toe: Full Python Game Code</h1>
    <p class="fs-5 text-muted"><strong>This page displays your complete Python-based terminal game with all functional steps.</strong></p>
  </div>

  <ul class="nav nav-tabs mb-4" id="exampleQuizTabs" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="examples-tab" data-bs-toggle="tab" data-bs-target="#examples" type="button" role="tab">Examples <span class="badge bg-secondary" id="exampleCount">0</span></button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="quiz-tab" data-bs-toggle="tab" data-bs-target="#quiz" type="button" role="tab">Quiz <span class="badge bg-secondary" id="quizCountText">10</span></button>
    </li>
  </ul>

  <div class="tab-content" id="exampleQuizTabsContent">
    <div class="tab-pane fade show active" id="examples" role="tabpanel">
      <div id="exampleCards">

        <div class="card mb-4">
          <div class="card-header bg-primary text-white fw-bold">1Ô∏è‚É£ display_board()</div>
          

  <div class="mt-5"></div><div class="card-body">
            <pre><code class="language-python">from IPython.display import clear_output

def display_board(board):
    clear_output()
    print('   |   |')
    print(f' {board[7]} | {board[8]} | {board[9]}')
    print('   |   |')
    print('-----------')
    print('   |   |')
    print(f' {board[4]} | {board[5]} | {board[6]}')
    print('   |   |')
    print('-----------')
    print('   |   |')
    print(f' {board[1]} | {board[2]} | {board[3]}')
    print('   |   |')</code></pre>
            <ul class="list-unstyled mt-3">
              <li>üîπ <strong>Function Used:</strong> <code>clear_output()</code></li>
              <li>üìò <strong>Learned:</strong> How to print the game board in a visual format.</li>
              <li>‚ôªÔ∏è <strong>Reusability:</strong> Called after every turn to refresh the display.</li>
              <li>üí¨ <strong>Comments:</strong> This makes the terminal output cleaner.</li>
            </ul></div>
        </div>

         <!-- Step 2 -->
  <div class="card mb-3 shadow-sm">
    <div class="card-header bg-success text-white">
      <strong>Step 2Ô∏è‚É£ player_input()</strong>
    </div>
    <div class="card-body bg-light">
      <pre><code class="language-python">def player_input():
    marker = ''
    while marker not in ('X','O'):
        marker = input('Player 1: X or O? ').upper()
    return ('X','O') if marker=='X' else ('O','X')</code></pre>
    </div>
  </div>

  <!-- Step 3 -->
  <div class="card mb-3 shadow-sm">
    <div class="card-header bg-info text-white">
      <strong>Step 3Ô∏è‚É£ place_marker()</strong>
    </div>
    <div class="card-body bg-light">
      <pre><code class="language-python">def place_marker(board, marker, position):
    board[position] = marker</code></pre>
    </div>
  </div>

  <!-- Step 4 -->
  <div class="card mb-3 shadow-sm">
    <div class="card-header bg-warning text-white">
      <strong>Step 4Ô∏è‚É£ win_check()</strong>
    </div>
    <div class="card-body bg-light">
      <pre><code class="language-python">def win_check(board, mark):
    return ((board[7]==mark and board[8]==mark and board[9]==mark) or
            (board[4]==mark and board[5]==mark and board[6]==mark) or
            (board[1]==mark and board[2]==mark and board[3]==mark) or
            (board[7]==mark and board[4]==mark and board[1]==mark) or
            (board[8]==mark and board[5]==mark and board[2]==mark) or
            (board[9]==mark and board[6]==mark and board[3]==mark) or
            (board[7]==mark and board[5]==mark and board[3]==mark) or
            (board[9]==mark and board[5]==mark and board[1]==mark))</code></pre>
    </div>
  </div>

  <!-- Step 5 -->
  <div class="card mb-3 shadow-sm">
    <div class="card-header bg-danger text-white">
      <strong>Step 5Ô∏è‚É£ choose_first()</strong>
    </div>
    <div class="card-body bg-light">
      <pre><code class="language-python">import random

def choose_first():
    return 'Player 1' if random.randint(0,1)==1 else 'Player 2'</code></pre>
    </div>
  </div>

  <!-- Step 6 -->
  <div class="card mb-3 shadow-sm">
    <div class="card-header bg-dark text-white">
      <strong>Step 6Ô∏è‚É£ space_check()</strong>
    </div>
    <div class="card-body bg-light">
      <pre><code class="language-python">def space_check(board, position):
    return board[position]==' '</code></pre>
    </div>
  </div>

  <!-- Step 7 -->
  <div class="card mb-3 shadow-sm">
    <div class="card-header bg-secondary text-white">
      <strong>Step 7Ô∏è‚É£ full_board_check()</strong>
    </div>
    <div class="card-body bg-light">
      <pre><code class="language-python">def full_board_check(board):
    return not any(space_check(board, i) for i in range(1,10))</code></pre>
    </div>
  </div>

  <!-- Step 8 -->
  <div class="card mb-3 shadow-sm">
    <div class="card-header bg-primary text-white">
      <strong>Step 8Ô∏è‚É£ player_choice()</strong>
    </div>
    <div class="card-body bg-light">
      <pre><code class="language-python">def player_choice(board):
    pos=0
    while pos not in range(1,10) or not space_check(board,pos):
        pos=int(input('Choose pos (1-9): '))
    return pos</code></pre>
    </div>
  </div>

  <!-- Step 9 -->
  <div class="card mb-3 shadow-sm">
    <div class="card-header bg-success text-white">
      <strong>Step 9Ô∏è‚É£ replay()</strong>
    </div>
    <div class="card-body bg-light">
      <pre><code class="language-python">def replay():
    return input('Play again? Yes/No: ').lower().startswith('y')</code></pre>
    </div>
  </div>

  <!-- Step 10 -->
  <div class="card mb-3 shadow-sm">
    <div class="card-header bg-info text-white">
      <strong>üîü Main Game Loop</strong>
    </div>
    <div class="card-body bg-light">
      <pre><code class="language-python">print('Welcome to Tic Tac Toe!')

while True:
    board=[' ']*10
    p1,p2=player_input()
    turn=choose_first()
    print(f'{turn} goes first.')
    game_on=input('Ready? Yes/No: ').lower().startswith('y')

    while game_on:
        if turn=='Player 1':
            display_board(board)
            pos=player_choice(board)
            place_marker(board,p1,pos)
            if win_check(board,p1):
                display_board(board); print('P1 wins!'); break
            if full_board_check(board):
                display_board(board); print('Draw!'); break
            turn='Player 2'
        else:
            display_board(board)
            pos=player_choice(board)
            place_marker(board,p2,pos)
            if win_check(board,p2):
                display_board(board); print('P2 wins!'); break
            if full_board_check(board):
                display_board(board); print('Draw!'); break
            turn='Player 1'

    if not replay(): break</code></pre>
    </div>
  </div>
</div>

      </div>
    </div>

    <div class="tab-pane fade" id="quiz" role="tabpanel">
      <div id="quizBox"></div>
      <div id="quizSummary" class="mt-4"></div>
    </div>
  </div>

  <audio id="correctSound" src="{% static 'sounds/correct.mp3' %}"></audio>
  <audio id="wrongSound" src="{% static 'sounds/wrong.mp3' %}"></audio>
</div>
  {% include 'includes/comment_form.html' %}
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/quiz_engine.js' %}"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const exampleCount = document.querySelectorAll('#exampleCards .card').length;
    document.getElementById('exampleCount').textContent = exampleCount;
    loadQuizData("play_game");
  });
</script>
{% endblock %}
